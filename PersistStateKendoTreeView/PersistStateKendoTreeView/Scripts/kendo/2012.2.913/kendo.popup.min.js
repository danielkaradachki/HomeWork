/*
* Kendo UI Complete v2012.2.913 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
;(function(a,b){function O(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=f.touch,h=c.getOffset,i=c.support.browser,j=i.msie&&i.version<9,k="open",l="close",m="deactivate",n="activate",o="center",p="left",q="right",r="top",s="bottom",t="absolute",u="hidden",v="body",w="location",x="position",y="visible",z="fitted",A="effects",B="k-state-active",C="k-state-border",D=".k-picker-wrap, .k-dropdown-wrap, .k-link",E=g?"touchstart":"mousedown",F=a(document),G=a(window),H=a(document.documentElement),I="resize scroll",J=f.transitions.css,K=J+"transform",L=a.extend,M=".kendoPopup",N=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],P=e.extend({init:function(b,d){var f=this,g;e.fn.init.call(f,b,d),b=f.element,d=f.options,f.collisions=d.collision?d.collision.split(" "):[],f.collisions.length===1&&f.collisions.push(f.collisions[0]),g=a(f.options.anchor).closest(".k-popup,.k-group"),d.appendTo=a(a(d.appendTo)[0]||g[0]||v),f.element.hide().addClass("k-popup k-group k-reset").css({position:t}).appendTo(d.appendTo).on("mouseenter"+M,function(){f._hovered=!0}).on("mouseleave"+M,function(){f._hovered=!1}),f.wrapper=a(),d.animation===!1&&(d.animation={open:{show:!0,effects:{}},close:{hide:!0,effects:{}}}),L(d.animation.open,{complete:function(){f.wrapper.css({overflow:y}),f.trigger(n)}}),L(d.animation.close,{complete:function(){f.wrapper.hide();var e=f.wrapper.data(w),g=a(d.anchor),h,i;e&&f.wrapper.css(e),d.anchor!=v&&(h=g.hasClass(C+"-down")?"down":"up",i=C+"-"+h,g.removeClass(i).children(D).removeClass(B).removeClass(i),b.removeClass(C+"-"+c.directions[h].reverse)),f._closing=!1,f.trigger(m)}}),f._mousedownProxy=function(a){f._mousedown(a)},f._currentWidth=F.width(),f._resizeProxy=function(a){f._resize(a)},d.toggleTarget&&a(d.toggleTarget).on(d.toggleEvent+M,a.proxy(f.toggle,f))},events:[k,n,l,m],options:{name:"Popup",toggleEvent:"click",origin:s+" "+p,position:r+" "+p,anchor:v,collision:"flip fit",viewport:window,animation:{open:{effects:"slideIn:down",transition:!0,duration:200,show:!0},close:{duration:100,show:!1,hide:!0}}},destroy:function(){var b=this,d=b.options,f=b.element.off(M),g;e.fn.destroy.call(b),d.toggleTarget&&a(d.toggleTarget).off(M),H.unbind(E,b._mousedownProxy),G.unbind(I,b._resizeProxy),d.appendTo[0]===document.body&&(g=f.parent(".k-animation-container"),g[0]?g.remove():f.remove()),c.destroy(b.element)},open:function(b,d){var e=this,h={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},i=e.element,j=e.options,l="down",m,n,o=a(j.anchor);if(!e.visible()){i.css(c.getComputedStyles(o[0],N));if(i.data("animating")||e.trigger(k))return;H.unbind(E,e._mousedownProxy).bind(E,e._mousedownProxy),g||G.unbind(I,e._resizeProxy).bind(I,e._resizeProxy),e.wrapper=n=c.wrap(i).css({overflow:u,display:"block",position:t}),f.mobileOS.android&&n.add(o).css(K,"translatez(0)"),n.css(x),a(j.appendTo)[0]==document.body&&n.css(r,"-10000px"),m=L(!0,{},j.animation.open),e.flipped=e._position(h),m.effects=c.parseEffects(m.effects,e.flipped),l=m.effects.slideIn?m.effects.slideIn.direction:l;if(j.anchor!=v){var p=C+"-"+l;i.addClass(C+"-"+c.directions[l].reverse),o.addClass(p).children(D).addClass(B).addClass(p)}i.data(A,m.effects).kendoStop(!0).kendoAnimate(m)}},toggle:function(){var a=this;a[a.visible()?l:k]()},visible:function(){return this.element.is(":"+y)},close:function(){var b=this,d=b.options,e,f,g;if(b.visible()){if(b._closing||b.trigger(l))return;b.element.find(".k-popup").each(function(){var b=a(this),c=b.data("kendoPopup");c&&c.close()}),H.unbind(E,b._mousedownProxy),G.unbind(I,b._resizeProxy),e=L(!0,{},d.animation.close),f=b.element.data(A),g=e.effects,b.wrapper=c.wrap(b.element).css({overflow:u}),!g&&!c.size(g)&&f&&c.size(f)&&(e.effects=f,e.reverse=!0),b._closing=!0,b.element.kendoStop(!0).kendoAnimate(e)}},_resize:function(a){var b=this;if(j){var c=F.width();if(c==b._currentWidth)return;b._currentWidth=c}b._hovered||b.close()},_mousedown:function(b){var d=this,e=d.element[0],f=d.options,g=a(f.anchor)[0],h=f.toggleTarget,i=c.eventTarget(b),j=a(i).closest(".k-popup")[0];(!j||j===d.element[0])&&!O(e,i)&&!O(g,i)&&(!h||!O(a(h)[0],i))&&d.close()},_fit:function(a,b,c){var d=0;a+b>c&&(d=c-(a+b)),a<0&&(d=-a);return d},_flip:function(a,b,c,d,e,f,g){var h=0;g=g||b,f!==e&&f!==o&&e!==o&&(a+g>d&&(h+=-(c+b)),a+h<0&&(h+=c+b));return h},_position:function(b){var c=this,d=c.element.css(x,""),e=c.wrapper,g=c.options,i=a(g.viewport),j=a(i).offset(),k=a(g.anchor),l=g.origin.toLowerCase().split(" "),m=g.position.toLowerCase().split(" "),n=c.collisions,o=f.zoomLevel(),p=10002,q=k.parents().filter(e.siblings());if(q[0]){var r=Number(a(q).css("zIndex"));r&&(p=r+1)}e.css("zIndex",p),b&&b.isFixed?e.css({left:b.x,top:b.y}):e.css(c._align(l,m));var s=h(e,x),u=h(e),v=k.offsetParent().parent(".k-animation-container");v.length&&v.data(z)&&(s=h(e,x),u=h(e)),i[0]===window?(u.top-=window.pageYOffset||document.documentElement.scrollTop||0,u.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(u.top-=j.top,u.left-=j.left),c.wrapper.data(w)||e.data(w,L({},s));var y=L({},u),A=L({},s);n[0]==="fit"&&(A.top+=c._fit(y.top,e.outerHeight(),i.height()/o)),n[1]==="fit"&&(A.left+=c._fit(y.left,e.outerWidth(),i.width()/o)),A.left!=s.left||A.top!=s.top?e.data(z,!0):e.removeData(z);var B=L({},A);n[0]==="flip"&&(A.top+=c._flip(y.top,d.outerHeight(),k.outerHeight(),i.height()/o,l[0],m[0],e.outerHeight())),n[1]==="flip"&&(A.left+=c._flip(y.left,d.outerWidth(),k.outerWidth(),i.width()/o,l[1],m[1],e.outerWidth())),d.css(x,t),e.css(A);return A.left!=B.left||A.top!=B.top},_align:function(b,c){var d=this,e=d.wrapper,f=a(d.options.anchor),g=b[0],i=b[1],j=c[0],k=c[1],l=h(f),m=a(d.options.appendTo),n,p=e.outerWidth(),r=e.outerHeight(),t=f.outerWidth(),u=f.outerHeight(),v=l.top,w=l.left,x=Math.round;m[0]!=document.body&&(n=h(m),v-=n.top,w-=n.left),g===s&&(v+=u),g===o&&(v+=x(u/2)),j===s&&(v-=r),j===o&&(v-=x(r/2)),i===q&&(w+=t),i===o&&(w+=x(t/2)),k===q&&(w-=p),k===o&&(w-=x(p/2));return{top:v,left:w}}});d.plugin(P)})(jQuery);